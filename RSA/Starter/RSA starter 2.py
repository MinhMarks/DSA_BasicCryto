p, q, a, e = int(input()), int(input()), int(input()), int(input())
print(pow(a, e, p*q))
#hàm pow(a, e, p) sẽ trả về a^e mod p